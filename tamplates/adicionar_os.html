{% extends 'base.html' %}

{% block content %}
<h2 class="text-green-700 text-xl font-bold mb-4">Adicionar Ordem de Serviço</h2>

<form method="post" class="bg-white p-6 rounded-2xl shadow border-2 border-green-500 max-w-xl">
  {% csrf_token %}

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Cliente</label>
    <select name="cliente" class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
      {% for cliente in form.fields.cliente.queryset %}
        <option value="{{ cliente.id }}" {% if form.cliente.value == cliente.id %}selected{% endif %}>
          {{ cliente.nome }}
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Tipo</label>
    <select name="tipo" class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
      {% for val, label in form.fields.tipo.choices %}
        <option value="{{ val }}" {% if form.tipo.value == val %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Prioridade</label>
    <select name="prioridade" class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
      {% for val, label in form.fields.prioridade.choices %}
        <option value="{{ val }}" {% if form.prioridade.value == val %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Prazo</label>
    <input type="date" name="prazo" value="{{ form.prazo.value }}" required
           class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
  </div>

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Descrição</label>
    <textarea name="descricao" rows="3"
              class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">{{ form.descricao.value }}</textarea>
  </div>

  <div class="mb-4">
    <label class="block text-green-800 font-semibold mb-1">Status</label>
    <select name="status" class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
      {% for val, label in form.fields.status.choices %}
        <option value="{{ val }}" {% if form.status.value == val %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-6">
    <label class="block text-green-800 font-semibold mb-1">Equipe</label>
    <select name="equipe" class="w-full px-3 py-2 border border-green-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500">
      {% for equipe in form.fields.equipe.queryset %}
        <option value="{{ equipe.id }}" {% if form.equipe.value == equipe.id %}selected{% endif %}>
          {{ equipe.nome }}
        </option>
      {% endfor %}
    </select>
  </div>

  <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded-xl hover:bg-green-700 transition">
    Salvar
  </button>
</form>
{% endblock %}
